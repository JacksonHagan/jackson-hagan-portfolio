<template>
  <div>
    <hero/>
    <projects/>


    <div id="experience" class="overflow-hidden">
      <div class="z-10 relative w-full max-w-6xl mx-auto px-4 md:px-6 py-24">

        <div
            class="pointer-events-none absolute left-[calc(50%-4rem)] -z-10 transform-gpu blur-3xl sm:left-[calc(50%-18rem)] lg:left-48 top-[calc(50%-22rem)] xl:left-[calc(50%-14rem)]"
            aria-hidden="true">
          <div class="aspect-[1108/632] w-[69.25rem] bg-gradient-to-r from-[#80caff] to-[#4f46e5] opacity-[15%]"
               style="clip-path: polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"></div>
        </div>

        <div class="flex justify-center">
          <!--       gradient-heading2 -->
          <h2 class="text-5xl text-gray-200 aeonik tracking-[-.01em]">
            Experience
          </h2>
        </div>

        <div class="mt-12 flex flex-col justify-center divide-y divide-slate-200 [&amp;>*]:py-16">

          <div class="w-full max-w-3xl mx-auto">

            <!-- Vertical Timeline #1 -->
            <div class="-my-6">

              <!-- Item #1 -->
              <div class="relative pl-8 sm:pl-32 py-6 group">
                <!-- Purple label -->
                <div class="font-medium text-sm gradient-hading3 mb-1">
                  Software Developer
                </div>
                <!-- Vertical line (::before) ~ Date ~ Title ~ Circle marker (::after) -->
                <div
                    class="flex flex-col sm:flex-row items-start mb-1 group-last:before:hidden before:absolute before:left-2 sm:before:left-0 before:h-full before:px-px before:bg-gray-700 sm:before:ml-[6.5rem] before:self-start before:-translate-x-1/2 before:translate-y-3 after:absolute after:left-2 sm:after:left-0 after:w-1 after:h-1 after:bg-gray-600 after:border-4 after:box-content after:border-gray-600  after:rounded-full sm:after:ml-[6.5rem] after:-translate-x-1/2 after:translate-y-1.5">


                  <time
                      class="sm:absolute -left-16 translate-y-0.5 inline-flex items-center justify-center text-xs w-36 h-8 mb-3 flex gap-x-2 rounded-full bg-sky-400/20 px-3 py-1 text-sm font-semibold leading-6 text-white ring-1 ring-inset ring-sky-400/50">
                    May, 2021 - Current
                  </time>

                  <div class="text-2xl text-gray-200 aeonik">
                    Care & Co Media · Full-time
                  </div>
                </div>
                <!-- Content -->
                <div class="text-slate-500">
                  <p>
                    Built and maintained AgedCareGuide.com.au and DisabilitySupportGuide.com.au using Laravel,
                    developing scalable backend systems, admin and client portals, advanced search functionality, and
                    provider comparison tools.
                  </p>
                  <p class="pt-3">
                    Implemented automated testing, code reviews, and CI/CD practices to ensure reliability and
                    maintainability across core applications.
                  </p>
                </div>
              </div>


              <!-- Item #2 -->
              <div class="relative pl-8 sm:pl-32 py-6 group">
                <!-- Purple label -->
                <div class="font-medium text-smg gradient-hading3 mb-1">
                  Software Developer
                </div>
                <!-- Vertical line (::before) ~ Date ~ Title ~ Circle marker (::after) -->
                <div
                    class="flex flex-col sm:flex-row items-start mb-1 group-last:before:hidden before:absolute before:left-2 sm:before:left-0 before:h-full before:px-px before:bg-gray-700 sm:before:ml-[6.5rem] before:self-start before:-translate-x-1/2 before:translate-y-3 after:absolute after:left-2 sm:after:left-0 after:w-1 after:h-1 after:bg-gray-600 after:border-4 after:box-content after:border-gray-600  after:rounded-full sm:after:ml-[6.5rem] after:-translate-x-1/2 after:translate-y-1.5">


                  <time
                      class="sm:absolute -left-20 translate-y-0.5 inline-flex items-center justify-center text-xs w-40 h-8 mb-3 flex gap-x-2 rounded-full bg-white/5 px-3 py-1 text-sm font-semibold leading-6 text-white ring-1 ring-inset ring-white/20">
                    May, 2019 - May, 2022
                  </time>

                  <div class="text-2xl text-gray-200 aeonik">
                    DiabloTrade.gg · Part-time
                  </div>
                </div>
                <!-- Content -->
                <div class="text-slate-500">
                  <p>
                    Built and launched a full-stack marketplace for Diablo 4 in-game item trading featuring advanced
                    filtering and OCR-driven screenshot parsing.
                  </p>
                </div>
              </div>


              <!-- Item #3 -->
              <div class="relative pl-8 sm:pl-32 py-6 group">
                <!-- Purple label -->
                <div class="font-medium text-sm gradient-hading3 mb-1">
                  Lead Artist & Front-end Developer
                </div>
                <!-- Vertical line (::before) ~ Date ~ Title ~ Circle marker (::after) -->
                <div
                    class="flex flex-col sm:flex-row items-start mb-1 group-last:before:hidden before:absolute before:left-2 sm:before:left-0 before:h-full before:px-px before:bg-gray-700 sm:before:ml-[6.5rem] before:self-start before:-translate-x-1/2 before:translate-y-3 after:absolute after:left-2 sm:after:left-0 after:w-1 after:h-1 after:bg-gray-600 after:border-4 after:box-content after:border-gray-600  after:rounded-full sm:after:ml-[6.5rem] after:-translate-x-1/2 after:translate-y-1.5">


                  <time
                      class="sm:absolute -left-20 translate-y-0.5 inline-flex items-center justify-center text-xs w-40 h-8 mb-3 flex gap-x-2 rounded-full bg-white/5 px-3 py-1 text-sm font-semibold leading-6 text-white ring-1 ring-inset ring-white/20">
                    May, 2018 - May, 2021
                  </time>

                  <div class="text-2xl text-gray-200 aeonik">
                    Nabi Studios · Part-time
                  </div>
                </div>
                <!-- Content -->
                <div class="text-slate-500">
                  <p>
                    Developed a community site for the video game Toribash with a gallery of user-submitted in-game
                    character skins and Three.js 3D previews, hosting over 15,000 skins.
                  </p>
                  <p class="pt-3">
                    Refreshed the Toribash community forums with a modern UI/UX using Bootstrap, improving usability and
                    visual design.
                  </p>
                </div>
              </div>


              <!-- Item #4 -->
              <div class="relative pl-8 sm:pl-32 py-6 group">
                <!-- Purple label -->
                <div class="font-medium text-sm gradient-hading3 mb-1">
                  Work Experience
                </div>
                <!-- Vertical line (::before) ~ Date ~ Title ~ Circle marker (::after) -->
                <div
                    class="flex flex-col sm:flex-row items-start mb-1 group-last:before:hidden before:absolute before:left-2 sm:before:left-0 before:h-full before:px-px before:bg-gray-700 sm:before:ml-[6.5rem] before:self-start before:-translate-x-1/2 before:translate-y-3 after:absolute after:left-2 sm:after:left-0 after:w-1 after:h-1 after:bg-gray-600 after:border-4 after:box-content after:border-gray-600  after:rounded-full sm:after:ml-[6.5rem] after:-translate-x-1/2 after:translate-y-1.5">


                  <time
                      class="sm:absolute -left-20 translate-y-0.5 inline-flex items-center justify-center text-xs w-40 h-8 mb-3 flex gap-x-2 rounded-full bg-white/5 px-3 py-1 text-sm font-semibold leading-6 text-white ring-1 ring-inset ring-white/20">
                    May, 2014 - May, 2014
                  </time>

                  <div class="text-2xl text-gray-200 aeonik">
                    FUSION
                  </div>
                </div>
                <!-- Content -->
                <div class="text-slate-500">
                  <p>
                    Gained hands-on experience in web development and design workflows within a professional studio
                    environment.
                  </p>
                  <p class="mt-3">
                    Exposure to modern tools and technologies used in web and mobile development.
                  </p>
                </div>
              </div>


            </div>
            <!-- End: Vertical Timeline #1 -->
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import ProjectCard from '../components/ProjectCard.vue';
import Pill from "@/components/Pill.vue";
import IconLaravel from "@/components/icons/IconLaravel.vue";
import IconAlpine from "@/components/icons/IconAlpine.vue";
import IconLivewire from "@/components/icons/IconLivewire.vue";
import IconTailwind from "@/components/icons/IconTailwind.vue";
import Projects from "@/components/Projects.vue";
import Hero from "@/components/Hero.vue";
import Nav from "@/components/Nav.vue";

export default {
  components: {
    Hero,
    Projects,
    IconTailwind,
    IconLivewire,
    IconAlpine,
    IconLaravel,
    Pill,
    ProjectCard,
    Nav,
  },
  mounted() {
    // Init Spotlight
    const spotlights = document.querySelectorAll('[data-spotlight]');
    spotlights.forEach((spotlight) => {
      new Spotlight(spotlight);
    });
  }
};


class Spotlight {
  constructor(containerElement) {
    this.container = containerElement;
    this.cards = Array.from(this.container.children);
    this.mouse = {
      x: 0,
      y: 0,
    };
    this.containerSize = {
      w: 0,
      h: 0,
    };
    this.initContainer = this.initContainer.bind(this);
    this.onMouseMove = this.onMouseMove.bind(this);
    this.init();
  }

  initContainer() {
    this.containerSize.w = this.container.offsetWidth;
    this.containerSize.h = this.container.offsetHeight;
  }

  onMouseMove(event) {
    const {clientX, clientY} = event;
    const rect = this.container.getBoundingClientRect();
    const {w, h} = this.containerSize;
    const x = clientX - rect.left;
    const y = clientY - rect.top;
    const inside = x < w && x > 0 && y < h && y > 0;
    if (inside) {
      this.mouse.x = x;
      this.mouse.y = y;
      this.cards.forEach((card) => {
        const cardX = -(card.getBoundingClientRect().left - rect.left) + this.mouse.x;
        const cardY = -(card.getBoundingClientRect().top - rect.top) + this.mouse.y;
        card.style.setProperty('--mouse-x', `${cardX}px`);
        card.style.setProperty('--mouse-y', `${cardY}px`);
      });
    }
  }

  init() {
    this.initContainer();
    window.addEventListener('resize', this.initContainer);
    window.addEventListener('mousemove', this.onMouseMove);
  }
}
</script>
